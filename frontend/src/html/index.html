<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EATSY</title>
    <link rel="icon" href="/Frontend/asset/logo/eatsy 1 (1).png" type="image/png">
    <!-- links for css and bootstrap -->
    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="../vendor/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/display-workers.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" class="circular-logo">
  </head>
   <body>
    <!-- The header -->
    <section>
      <div class="header">
        <img src="/frontend/asset/logo/eatsy 1 (1).png" class="logo" />
        <h1 class="he">Eatsy</h1>
        <!-- The date and time -->
        <div class="time">
          <div class="date-container">
            <p class="date-day" id="current-day"></p>
            <p class="date-full" id="current-full-date"></p>
          </div>
       <iframe src="clock.html" class="real"></iframe>
    </div>
      </div>
  </header>

  <div class="container-fluid">
    <!-- Sidebar in its own div -->
    <div class="sidebar-container">
      <nav class="sidebar" id="sidebar-menu">
        <a href="#" onclick="showSection('home-section')" class="sidebar-link">
           <img src="/Frontend/asset/image/icons/home.png" alt="home" class="icons">
           Home
        </a>
        <a href="#" onclick="showSection('worker-list'); listWorkers()" class="sidebar-link">
          <img src="/Frontend/asset/image/icons/workers table.png" alt="Worker Table" class="icons">
           Worker table
        </a>
        <a href="#" onclick="showSection('register-consumption');"class="sidebar-link register" >
          <img src="/Frontend/asset/image/icons/register consumption.png" alt="register-consumption" class="icons">
          Register Consumption
        </a>
        <a href="#" onclick="showSection('display-worker-debts'); listConsumption();" class="sidebar-link">
          <img src="/Frontend/asset/image/icons/user-eating.png" alt="register-consumption" class="icons">
           Debts
        </a>
      </nav>
<!-- Footer -->
  <!-- <footer class="foot" id="foote"> <span> &copy; 2025 EATSY</span></footer> -->
    </div>
    <!-- Main content in its own div -->
    <div class="content-container">
      <main id="page-center" class="col-md-10 p-4">
        <!-- Home Section -->
        <div style="display: block;position: relative;left: 19px;bottom: -32px ;width: 90%;"
          class="container p-2 border rounded bg-light shadow" id="home-section" style="display: none;">
          <h2 style="text-align: center; color: #2E4E3F;">Home Page</h2>
          <div class="home-cards">
            <div class="home-card">
              <div class="card-body">
                <i class="fa fa-users fa-2x" style="color: #2E4E3F;"></i>
                <div  class="card-title">Number of workers</div>
                <div class="card-value" id="workersCount"></div>
              </div>
            </div>
            <div class="home-card">
              <div class="card-body">
                <i class="fa fa-money-bill-wave fa-2x" style="color: #2E4E3F;"></i>
                <div  class="card-title">Number of Consumption</div>
                <div class="card-value"  id="consumptionCount"></div>
              </div>
            </div>
            <div class="home-card">
              <div class="card-body">
                <i class="fa fa-coins fa-2x" style="color: #2E4E3F;"></i>
                <div class="card-title">Total Amount</div>
                <div  class="card-value"id="totalAmountCard"></div>
              </div>
            </div>
          </div>
        </div>
        <!-- Section Register Worker -->
    <div style="display: block;position: relative;left: 19px;bottom: -32px ;width: 90%;"
          class="container p-2 border rounded bg-light shadow" id="register-worker" style="display: none;">
          <h2 style="text-align: center; color: #C8AE70;">Register Worker</h2>
          <img  src ="../../asset/logo/profile.png" height="100px" width="100px" class="profile" alt="profile">
          <!--place to register worker -->
          <form>
            <div class="row mb-3">
              <div class="col">
                <label for="name" class="form-label">First Name</label>
                <input type="text" id="name" class="form-control" placeholder="Name">
              </div>
              <div class="col">
                <label for="giving-name" class="form-label">Last Name</label>
                <input type="text" id="givingName" class="form-control" placeholder="Last Name">
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="departement" class="form-label">Departement</label>
                <select id="departement" class="form-select">
                </select>
              </div>
              <div class="col">
                <label for="status" class="form-label">Status</label>
                <select id="status" class="form-select">
                  <option value="">Select...</option>
                  <option value="Permanent">Permanent</option>
                  <option value="Temporal">Temporal</option>
                  <option value="Intern">Intern</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="date" class="form-label">Date Of Birth</label>
                <input type="date" id="dob" class="form-control" placeholder="Date Of Birth">
              </div>
              <div class="col">
                <label for="Place" class="form-label">Place Of Birth</label>
                <input type="text" id="pob" class="form-control" placeholder="Place Of Birth">
              </div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <label for="date" class="form-label">Registration date</label>
                <input type="date" id="rgdate" class="form-control" placeholder="Date Of Birth" readonly>
              </div>
              <div class="col" style="display: none;">
                <label for="ppp" class="form-label">Place Of Birth</label>
                <input type="text" id="ooo" class="form-control" placeholder="Place Of Birth">
              </div>
            </div>
            <!-- Add more fields or buttons here -->
            <div class="btn-gradient">
              <button type="submit" onclick="submitWorkersData()" class="btn w-50"
                style="background-color:#f3d89a; margin-top: 20px; margin-left: 200px;">Submit</button>
            </div>
          </form>
        </div>

        <!-- Register consumption -->
        
       <div style="display: block;position: relative;left: 19px;bottom: -32px ;width: 90%;"
          class="container p-2 border rounded bg-light shadow" id="register-consumption" style="display: none;">
          <h2 style="text-align: center; color:  #C8AE70;">Register consumption</h2>
           <img src="../../asset/logo/profile.png" height="100px" width="100px" class="profile"class="rounded-circle" alt="profile">
          <form action="">
            <div class="row mb-3">
              <div class="col">
                <label for="departement-consumption" class="form-label"> Choose Department</label>
                 <select onchange="listWorkersByDepartment()"  id="departement-consumption" class="form-select">
                 </select>
              </div>
              <div class="col">
                <label for="workerName" class="form-label">Choose Worker</label>
                <select id="workerName" class="form-select">
                </select>
              </div>
            </div>            
            <div class="row mb-3"> 
              <div class="col">
                <label for="consumption-type" class="form-label">Consumption type</label>
                <select onchange="totalPrice();" id="consumption-type" class="form-select">
                  <option value="">Select...</option>
                  <option value="Food">Food</option>
                  <option value="Drink">Drink</option>
                  <option value="Food And Drink">Food And Drink</option>
                </select>
              </div>
              <div class="col">
                <label for="extra" class="form-label">Number Of Extra Consumption</label>
                <input onchange="totalPrice();" type="number" id="extra" class="form-control" placeholder="Number of extra">
              </div>
            </div>
            <div class="row mb-3">
              <div class="col">
                <label for="date" class="form-label">Registration date</label>
                <input type="date" id="rgdate" class="form-control" placeholder="Date Of Birth">
              </div>
              <div class="col">
                <label for="amount" class="form-label">Amount consumed :XAF</label>
                <input type="text" id="amount-consummed" class="form-control" placeholder="Amount consumed :XAF" readonly>
              </div>
            </div>
            <!-- Add more fields or buttons here -->
            <div class="btn-gradient">
              <input type="button" onclick="registerConsumption()" class="btn w-50"
                style="background-color:#f3d89a; margin-top: 40px; margin-left: 200px;" value="Submit">
            </div>
          </form>
        </div>

        <!-- Workers Table -->
        <!--Example to be placed in the "worker-list-section" section-->
        <div style="display: block;position: relative;left: 19px;bottom: -32px ;width: 115%;"
          class="container p-2 border rounded bg-light shadow" id="worker-list" style="display: none;">
          <div style="height: 100px;">
             <h2 style="text-align: center; color: #C8AE70; padding: 0; margin: 0;">List Workers</h2>
           <div class="re">
          <a href="#" onclick="showSection('register-worker')" class="sidebar-link reg" style="background-color: #2b2d31; color: #e4e4e4; width: 40px; border-radius:50px ;
          height: 38px; padding-left:10px; border-style: none;  ">
          <img src="/Frontend/asset/image/icons/add new worker.png" alt="home" class="icons reg">
        </a>
        <h6 class="tooltip-text">Register worker</h6>
        </div>
          </div>
          <table class="table table-bordered worker-table">
            <thead>
              <tr> 
                <th style="background-color:  #C8AE70;">No</th>
                <th style="background-color: #C8AE70;">Name</th>
                <th style="background-color:  #C8AE70;">Surname</th>
                <th style="background-color:  #C8AE70;">Departement</th>
                <th style="background-color: #C8AE70 ;">Status</th>
                <th style="background-color:  #C8AE70;">Date of Birth</th>
                <th style="background-color:  #C8AE70;">Place of Birth</th>
                <th style="background-color: #C8AE70;">Registration Date</th>
                <th style="background-color:  #C8AE70;">Actions</th>
              </tr>
            </thead>
            <tbody id="workerLists">
              <!-- Add more lines here-->
            </tbody>
          </table>
        </div>

        <!-- Display workers dept -->

        <div style="display: block;position: relative;left: 19px;bottom: -32px ;width: 115%;"
          class="container p-2 border rounded bg-light shadow" id="display-worker-debts" style="display: none;">
          <h2 style="text-align: center; color:  #C8AE70;">Display workers depts</h2>
          <table class="table table-bordered worker-table">
            <thead>
              <tr id="head" class="table">
                <th style="background-color:  #C8AE70;">No</th>
                <th style="background-color:  #C8AE70;">Name</th>
                <th style="background-color:  #C8AE70;">Departement</th>
                <th style="background-color:  #C8AE70;">Consumption</th>
                <th style="background-color:  #C8AE70;">Extra</th>
                <th style="background-color:  #C8AE70;">Date</th>
                 <th style="background-color:  #C8AE70;">Total amount</th>
              </tr>
            </thead>
            <tbody id="consumptionList">
              <!-- Add more lines here -->
            </tbody>
          </table>
        </div>
    </div>
    </main>
  </div>
  </div>
</body>
<script src="../js/index.js"></script>
<script src="../js/registerworker.js"></script>
<script src="../js/db.js"></script>
<script src="../js/depatement.js"></script>
<script src="../js/consumption.js"></script>
<script src="../js/date.js"></script>
<script src="../vendor/sweetalert2@11"></script> 
<script src="../js/card.js"></script>
<!-- <script>
  alert("Welcome to Eatsy!");
</script> -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var today = new Date();
    var yyyy = today.getFullYear();
    var mm = String(today.getMonth() + 1).padStart(2, '0');
    var dd = String(today.getDate()).padStart(2, '0');
    var formatted = yyyy + '-' + mm + '-' + dd;
    var rgdate = document.getElementById('rgdate');
    if (rgdate) rgdate.value = formatted;
  });
</script>
</html>

